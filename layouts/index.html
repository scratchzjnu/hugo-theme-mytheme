{{ define "title" }}{{ .Site.Title }}{{ end }}

{{ define "main" }}
<section class="home-page">
    <div class="container">
        <div class="main-content">
            <!-- Left column: Feature image and description (55%) -->
            <div class="left-column">
                {{ with .Site.Params.feature }}
                <div class="feature-image-container">
                    <!-- Feature image -->
                    <img src="{{ .feature_img | absURL }}" alt="Feature Image" class="feature-image">
                    <!-- Description text below the image -->
                    <div class="feature-description">
                        <p>{{ .feature_description }}</p>
                    </div>
                </div>
                {{ end }}
            </div>
            
            <!-- Right column: Latest posts (45%) -->
            <div class="right-column">
                <h2 class="latest-posts-title">最新更新</h2>
                <div class="latest-posts-list">
                    {{ range first 3 (where .Site.RegularPages "Type" "in" .Site.Params.mainSections) }}
                    <a href="{{ .Permalink }}" class="latest-post-link">
                        <article class="latest-post-item">
                            <div class="post-header">
                                <h3 class="post-title">{{ .Title }}</h3>
                                <div class="post-meta">
                                    <span class="post-date">{{ .Date.Format "2006-01-02" }}</span>
                                </div>
                            </div>
                            <div class="post-summary">
                                {{ if .Summary }}
                                    {{ substr (.Summary | plainify) 0 100 }}{{ if gt (len (.Summary | plainify)) 100 }}...{{ end }}
                                {{ else }}
                                    {{ substr (.Content | plainify) 0 100 }}{{ if gt (len (.Content | plainify)) 100 }}...{{ end }}
                                {{ end }}
                            </div>
                        </article>
                    </a>
                    {{ end }}
                </div>
                <!-- Read more link -->
                <div class="read-more-container">
                    <a href="{{ "posts" | absURL }}" class="read-more-link">阅读更多</a>
                </div>
            </div>
        </div>
    </div>
</section>
{{ end }}